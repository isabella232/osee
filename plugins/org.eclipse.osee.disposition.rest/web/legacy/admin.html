<!doctype html>
<html>
<body>
  <div class="container-fluid" id="content">
    <div class="row">
        <div class="col-md-3 col-md-offset-1">
            <div class="row">
                <h5>Select ATS Version</h5>
                <select class="form-control" ng-model="programSelection" ng-change="updateProgram()" ng-options="obj.value as obj.text for obj in programs"></select>
            	 <div>
                	<u ng-click="toggleAddNew()">Add New</u> <div  ng-show="addNew"><input class="form-control" ng-model="newProgramName" type="text" name="newProgram"><button ng-click="createNewProgram()" class="form-control">Submit</button></div>
                </div>
            </div>
            <div class="row" id=reportRow>
                <div ng-show="sets.length > 0" class="col-sm-10 col-sm-offset-2" id=reportContainer>
                    <h3>STRS Report</h3>
                    <h5>Select Primary Set (Demo Set)</h5>
                    <select class="form-control" ng-model="primarySet" ng-options="obj.guid as obj.name for obj in sets"></select>
                    <h5>Select Secondary Set (Dryrun Set)</h5>
                    <select class="form-control" ng-model="secondarySet" ng-options="obj.guid as obj.name for obj in sets"></select>
                    <button ng-click="generateReport()" class="btn btn-primary active" id=generateReportBtn>Generate Report</button>
                </div>
            </div>
            
 				<div class="row" id=mergeAnnotationsRow>
                <div class="col-sm-10 col-sm-offset-2" id=mergetAnnotationsContainer>
                    <button ng-disabled="isCopying" ng-click="openCopySetModal()" ng-show="sets.length > 0" class="btn btn-primary active" id=mergetAnnotationsBtn>Merge Annotations</button>
                 </div>
            </div>
            
        </div>
        <div class="col-md-6 col-md-offset-1">
            <div class="row">
                <button ng-disabled="programSelection == null" ng-click="createNewSetModal()" class="btn pull-left">New</button>
                <button ng-disabled="programSelection == null" ng-click="toggleReadOnly()" class="btn pull-right">Edit</button>
            </div>
            <div class="row">
                <div style="height: 300px;" class="gridStyle" ng-grid="gridOptions"></div>
            </div>
        </div>
    </div>
    <div class="row">
    	<div class="col-md-9 col-md-offset-1">
            <div class="row" id="summaryContainer">
                <div style="height: 400px;" class="gridStyle" ng-grid="summaryGrid"></div>
            </div>
    </div>

    <!--  definitions for modal forms -->
    <script type="text/ng-template" id="popup.html">
        <div class="modal-header">
            <h3 class="modal-title">Create Set</h3>
        </div>
        <div class="modal-body" style="height: 300px; overflow: auto;">
            <div class="form-group">
                <label for="setNameInput">Set Name</label>
                <input ng-model="setName" class="form-control" name="setName" placeholder="Enter Set Name" required>
            </div>
            <div class="form-group">
                <label for="setPathInput">Path</label>
                <input ng-model="importPath" class="form-control" name="setPath" placeholder="Enter Import Path" required>
            </div>
        <div class="modal-footer">
            <button class="btn btn-primary" ng-click="ok()">OK</button>
            <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
        </div>

    </script>
    
    
    <script type="text/ng-template" id="copySets.html">
        <div class="modal-header">
            <h3 class="modal-title">Copy Annotations</h3>
        </div>
        <div class="modal-body" overflow: auto;">
            <div class="form-group">
					 Select Destination Set
                <select class="form-control" ng-model="destinationSet" ng-options="obj.guid as obj.name for obj in setsLocal">
					 </select>
            </div>
            <div class="form-group">
					 Select Source Program
                <select class="form-control" ng-change="updateProgramLocal()" ng-model="sourceProgram" ng-options="obj.value as obj.text for obj in programsLocal">
					 </select>
					 Select Source Set
                <select class="form-control" ng-model="sourceSet" ng-options="obj.guid as obj.name for obj in setsLocalSource">
					 </select>
            </div>

			<div class="form-inline">
				    <h5>Copy Dispositions</h5>
                <select class="form-control" ng-model="annotationParam" ng-options="obj.value as obj.text for obj in annotationOptions"></select>
				    <h5>Copy Categories</h5>
                <select class="form-control" ng-model="categoryParam" ng-options="obj.value as obj.text for obj in categoryOptions"></select>
				    <h5>Copy Assignees</h5>
                <select class="form-control" ng-model="assigneeParam" ng-options="obj.value as obj.text for obj in assigneeOptions"></select>
				    <h5>Copy Item Notes</h5>
                <select class="form-control" ng-model="noteParam" ng-options="obj.value as obj.text for obj in noteOptions"></select>
			</div>

        </div>
        <div class="modal-footer">
            <button class="btn btn-primary" ng-click="ok()">OK</button>
            <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
        </div>

    </script>
    
    <script type="text/ng-template" id="copySetCoverage.html">
        <div class="modal-header">
            <h3 class="modal-title">Copy From Coverage</h3>
        </div>
        <div class="modal-body" overflow: auto;">
            <div class="form-group">
					 Select Destination Set
                <select class="form-control" ng-model="destinationSet" ng-options="obj.guid as obj.name for obj in setsLocal">
					 </select>
            </div>
            <div class="form-group">
					 Enter Source Branch
                <input class="form-control" ng-model="sourceBranch" placeholder="Enter Branch Uuid"></input>
            </div>
            <div class="form-group">
					 Enter Coverage Package id
                <input class="form-control" ng-model="sourcePackage" placeholder="Enter Coverage Package Uuid"></input>
            </div>            
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary" ng-click="ok()">OK</button>
            <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
        </div>

    </script>
    
   <script type="text/ng-template" id="loadingModal.html">
        <div id="loadingModal" class="alert alert-info">
				Loading...
        </div>
    </script>   

</body>

</html>
