<!doctype html>
<html>

<head>

    <meta http-equiv="content-type" content="text/html; charset=UTF-8">

    <title>Dispo User</title>
</head>

<body>

    <div class="container-fluid" id="content">
        <div>
            <div class="row">
                <div class="span3 offset1">
                    ATS Version:
                    <select class="form-control" ng-show="programs" ng-model="programSelection" ng-change="updateProgram()" ng-options="obj.value as obj.text for obj in programs">
                    </select>
                </div>
                <div ng-show="programSelection != null" class="span3 offset2">
                    Set:
                    <select class="form-control" ng-show="sets" ng-model="setSelection" ng-change="updateSet()" ng-options="obj.guid as obj.name for obj in sets">
                    </select>
                </div>
            </div>
            <div id="top-content" class="row">
                <div style="height: 600px;" id="itemsGrid" class="gridStyle" ng-grid="gridOptions"></div>
            </div>
        </div>

        <div id="bottom-content">
            <div id="itemSelectedBar">
                Item: {{ selectedItem.name || "Select an Item"}} Failures: {{ selectedItem.discrepanciesAsRanges || "N/A"}}
            </div>
            <div id="annotationsGrid">
                <table class="table subTable">
                    <th>Locations</th>
                    <th>Type</th>
                    <th>Resolution</th>
                    <th>Developer Notes</th>
                    <th>Customer Notes</th>
                    <tr ng-repeat="annotation in annotations">
                        <td>
                            <textarea ng-class="{annotationInput: true, invalid: getInvalidLocRefs(annotation), details: annotation.showDeets}" ng-invalid="true" ng-model="annotation.locationRefs" type=text ng-model-onblur ng-change="editAnnotation(annotation)" ng-dblclick="toggleDetails(annotation)"></textarea>
                        </td>
                        <td>
                            <select ng-class="{annotationInput: true, details: annotation.showDeets}" ng-options="obj.value as obj.text for obj in resolutionTypes" ng-disabled="annotation.guid == null" ng-model="annotation.resolutionType" ng-change="editAnnotation(annotation)" ng-dblclick="addDetailsClass($event)"></select>
                        </td>
                        <td>
                            <textarea ng-class="{annotationInput: true, invalid: getInvalidRes(annotation), details: annotation.showDeets}" ng-disabled="annotation.guid == null" ng-model="annotation.resolution" type=text ng-model-onblur ng-change="editAnnotation(annotation)" ng-dblclick="addDetailsClass($event)"></textarea>
                        </td>
                        <td>
                            <textarea ng-class="{annotationInput: true, details: annotation.showDeets}" ng-disabled="annotation.guid == null" ng-model="annotation.developerNotes" type=text ng-model-onblur ng-change="editAnnotation(annotation)" ng-dblclick="addDetailsClass($event)"></textarea>
                        </td>
                        <td>
                            <textarea ng-class="{annotationInput: true, details: annotation.showDeets}" ng-disabled="annotation.guid == null" ng-model="annotation.customerNotes" type=text ng-model-onblur ng-change="editAnnotation(annotation)" ng-dblclick="addDetailsClass($event)"></textarea>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
    <div id="content-resizer" resizer="horizontal" resizer-height="6" resizer-top="#top-content" resizer-bottom="#bottom-content">
    </div>

</body>

</html>